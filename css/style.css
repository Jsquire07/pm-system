/* ================================
   DARK MODERN UI — DROP-IN THEME
   (no HTML/JS changes required)
   ================================ */

/* ---------- Theme Tokens ---------- */
:root {
  --bg: #0f1216;
  --bg-elev-1: #12161b;
  --bg-elev-2: #161b22;
  --panel: #171c23;
  --panel-2: #1b212a;

  --text: #e6edf3;
  --text-muted: #a9b4c0;
  --text-dim: #7f8b99;

  --primary: #6e8efb;
  --primary-700: #5c79e4;
  --accent: #22d3ee;  /* cyan accent */
  --success: #22c55e;
  --warning: #f59e0b;
  --danger:  #ef4444;

  --ring: rgba(110, 142, 251, 0.45);
  --shadow: 0 10px 30px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.02);

  --radius: 14px;
  --radius-sm: 10px;
  --radius-xs: 8px;

  --card-gap: 1rem;
  --sidebar-w: 240px;

  --trans-fast: 140ms ease;
  --trans-med: 240ms ease;
}

/* Respect “Reduce Motion” */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
}

/* ---------- Base ---------- */
* { box-sizing: border-box; }
html, body { height: 100%; }

body {
  margin: 0;
  font-family: ui-sans-serif, system-ui, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  background: radial-gradient(1200px 800px at 70% -10%, rgba(34,211,238,0.08), transparent 50%),
              radial-gradient(900px 600px at 0% 100%, rgba(110,142,251,0.10), transparent 60%),
              var(--bg);
  color: var(--text);
  line-height: 1.35;
}

/* Scrollbar */
*::-webkit-scrollbar { height: 10px; width: 10px; }
*::-webkit-scrollbar-thumb { background: #2a3340; border-radius: 10px; }
*::-webkit-scrollbar-thumb:hover { background: #364253; }
* { scrollbar-color: #2a3340 transparent; scrollbar-width: thin; }

/* ---------- Sidebar ---------- */
.sidebar {
  position: fixed; top: 0; left: 0; height: 100vh; width: var(--sidebar-w);
  background: linear-gradient(180deg, #0e131a 0%, #0b1016 100%);
  color: var(--text);
  display: flex; flex-direction: column; justify-content: space-between;
  padding: 1.25rem 1rem; z-index: 100; border-right: 1px solid #1f2630;
  box-shadow: var(--shadow);
}

.sidebar-title, .sidebar h2 {
  margin: 0 0 1rem;
  font-size: 1.1rem;
  font-weight: 700;
  letter-spacing: 0.3px;
  color: var(--text);
}

.sidebar-nav ul, .sidebar nav ul { list-style: none; padding: 0; margin: 0; }
.sidebar-nav li, .sidebar nav ul li { margin: 0.6rem 0; }

.sidebar-button, .sidebar nav ul li a {
  display: block; width: 100%;
  background: linear-gradient(180deg, #1a2230 0%, #151c27 100%);
  border: 1px solid #242c37;
  color: var(--text);
  text-decoration: none;
  padding: 0.7rem 0.9rem;
  border-radius: var(--radius-xs);
  transition: transform var(--trans-fast), box-shadow var(--trans-fast), border-color var(--trans-fast);
  cursor: pointer;
}

.sidebar-button:hover, .sidebar nav ul li a:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 20px rgba(0,0,0,0.35);
  border-color: #2e3a49;
}

.sidebar-button.active, .sidebar nav ul li.active a {
  background: linear-gradient(180deg, rgba(110,142,251,0.18), rgba(34,211,238,0.16));
  border-color: #3353ff4d;
  color: var(--text);
}

/* Logout emphasis */
.logout-button { background: linear-gradient(180deg, #2a0f12, #210c0e); border: 1px solid #3a1417; }
.logout-button:hover { border-color: #4a1b1f; }

/* ---------- Common Layouts ---------- */
.dashboard, .board, .employees-view, .settings-view, .form-view, .chat-wrapper, .settings-page {
  margin-left: var(--sidebar-w);
  padding: 2rem;
  min-height: 100vh;
  background: transparent;
}

/* Headers & Controls */
.board-header, .dashboard-header {
  display: flex; justify-content: space-between; align-items: center; gap: 1rem; flex-wrap: wrap;
}

.board-header h1, .dashboard-header h1, .settings-page h1 {
  margin: 0; font-size: 1.6rem; font-weight: 800; letter-spacing: 0.2px;
}

/* Primary Button */
.board-header button, .form-actions button, .card .button, .board-controls a.button, .chat-form button, .employee-form button {
  background: linear-gradient(180deg, var(--primary) 0%, var(--primary-700) 100%);
  border: 1px solid #3a4fd3;
  color: #fff;
  border-radius: 10px;
  padding: 0.6rem 1.1rem;
  cursor: pointer;
  transition: transform var(--trans-fast), box-shadow var(--trans-fast), filter var(--trans-fast);
  box-shadow: 0 10px 20px rgba(94,23,235,0.18);
}
.board-header button:hover,
.form-actions button:hover,
.card .button:hover,
.board-controls a.button:hover,
.chat-form button:hover,
.employee-form button:hover {
  transform: translateY(-2px);
  filter: brightness(1.05);
}

/* Secondary / Muted Buttons (settings, column controls) */
.column-controls button, .card .button.settings, .member-row button, .employee-list button {
  background: linear-gradient(180deg, #1c232d, #171e27);
  border: 1px solid #2a3441;
  color: var(--text);
  border-radius: 8px;
  padding: 0.45rem 0.7rem;
  transition: transform var(--trans-fast), border-color var(--trans-fast);
}
.column-controls button:hover,
.card .button.settings:hover,
.member-row button:hover,
.employee-list button:hover { transform: translateY(-1px); border-color: #344255; }

/* Danger variant */
.employee-list button, .member-row button, .logout-button {
  background: linear-gradient(180deg, #2a1313, #1e0e0e);
  border-color: #3b1b1b;
}
.employee-list button:hover, .member-row button:hover, .logout-button:hover { border-color: #572525; }

/* ---------- Boards / Columns / Cards ---------- */
.columns-container { overflow-x: auto; padding: 1rem 0; }
.columns { display: flex; gap: 1.2rem; min-width: fit-content; }

.column {
  min-width: 280px;
  background: linear-gradient(180deg, var(--panel) 0%, var(--panel-2) 100%);
  border: 1px solid #1f2833;
  border-radius: var(--radius);
  padding: 0.9rem;
  box-shadow: var(--shadow);
  transition: transform var(--trans-med), border-color var(--trans-fast);
}
.column:hover { transform: translateY(-2px); border-color: #2a3645; }
.column h2 {
  margin: 0 0 0.7rem; font-size: 1.05rem; font-weight: 700; color: var(--text);
  display: flex; justify-content: space-between; align-items: center;
}

.card-list { display: flex; flex-direction: column; gap: 0.7rem; }

/* Card */
.card {
  background: linear-gradient(180deg, #1a2029 0%, #161c24 100%);
  border: 1px solid #222a35;
  border-radius: var(--radius-sm);
  padding: 0.85rem 0.9rem;
  box-shadow: 0 6px 20px rgba(0,0,0,0.25);
  cursor: grab;
  transition: transform var(--trans-fast), box-shadow var(--trans-fast), border-color var(--trans-fast), background var(--trans-fast);
  position: relative; will-change: transform;
}
.card:hover { transform: translateY(-3px); border-color: #2b3645; box-shadow: 0 14px 26px rgba(0,0,0,0.35); }
.card:active { cursor: grabbing; }

.card-title { font-weight: 700; margin-bottom: 0.45rem; color: var(--text); }
.card-meta { display: flex; flex-wrap: wrap; gap: 0.35rem; }

/* Badges */
.badge {
  font-size: 12px; padding: 3px 8px; border-radius: 999px;
  background: #232a35; color: var(--text-muted); border: 1px solid #2a3340;
}
.badge.assignee { background: #222934; color: var(--text); }
.badge.priority.low { background: rgba(34,197,94,0.12); color: #6ee7b7; border-color: rgba(34,197,94,0.25); }
.badge.priority.medium { background: rgba(245,158,11,0.12); color: #facc15; border-color: rgba(245,158,11,0.25); }
.badge.priority.high { background: rgba(239,68,68,0.12); color: #fda4af; border-color: rgba(239,68,68,0.25); }
.badge.due-date { background: rgba(34,211,238,0.12); color: #67e8f9; border-color: rgba(34,211,238,0.25); }

.move-buttons { display: flex; justify-content: flex-end; gap: 0.4rem; margin-top: 0.5rem; }
.move-buttons button {
  background: linear-gradient(180deg, #202735, #1a202b);
  border: 1px solid #2a3341; color: var(--text);
  padding: 4px 10px; font-size: 13px; border-radius: 6px; cursor: pointer;
}
.move-buttons button:hover { border-color: #364255; }

/* ---------- Modal ---------- */
.modal {
  position: fixed; inset: 0; display: none; place-items: center;
  background: rgba(9,11,14,0.7); backdrop-filter: blur(6px);
  z-index: 999;
}
.modal.open { display: grid; animation: fadeIn 160ms ease; }

.modal-content {
  background: linear-gradient(180deg, #141a22, #11161d);
  border: 1px solid #1e2631;
  border-radius: var(--radius);
  width: 100%; max-width: 480px; padding: 1.5rem;
  box-shadow: var(--shadow);
  color: var(--text);
}

.modal-content label { display: block; margin-top: 1rem; font-weight: 700; color: var(--text); }
.modal-content input, .modal-content select, .form-container input[type="text"], .board-info input, .board-info textarea, .board-info select,
.employee-form input, .chat-form input {
  width: 100%; margin-top: 0.35rem; padding: 0.65rem 0.75rem;
  background: #0f141a; border: 1px solid #1e2631; border-radius: 10px; color: var(--text);
  transition: border-color var(--trans-fast), box-shadow var(--trans-fast);
}
.modal-content input:focus, .modal-content select:focus,
.form-container input[type="text"]:focus, .board-info input:focus, .board-info textarea:focus, .board-info select:focus,
.employee-form input:focus, .chat-form input:focus {
  outline: none; border-color: var(--primary); box-shadow: 0 0 0 4px var(--ring);
}

.modal-actions { margin-top: 1.4rem; display: flex; justify-content: space-between; }

/* ---------- Dashboard / Cards ---------- */
.boards-grid, .dashboard-grid, .grid {
  display: grid; gap: 1.3rem; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); margin-top: 1.2rem;
}

.card {
  background: linear-gradient(180deg, #161b23, #121720);
  border: 1px solid #1f2732;
  border-radius: var(--radius);
  padding: 1.1rem 1.2rem;
  box-shadow: var(--shadow);
}
.card h2 { margin-top: 0; color: var(--text); font-size: 1.15rem; }
.card p, .card small, .card ul li, .card .board-description { color: var(--text-muted); }
.card:hover { transform: translateY(-4px); box-shadow: 0 18px 40px rgba(0,0,0,0.35); }

/* Big stat text */
.big-value { font-size: 2rem; font-weight: 800; color: var(--text); }
.subtext { color: var(--text-dim); }

/* Charts */
canvas { margin-top: 0.75rem; max-width: 100%; }

/* ---------- Filter Panel ---------- */
.filter-panel {
  display: flex; gap: 0.75rem; flex-wrap: wrap; align-items: center;
  margin: 1rem 0; padding: 0.9rem;
  background: linear-gradient(180deg, #131922, #10161e);
  border: 1px solid #1f2833; border-radius: var(--radius);
}

/* ---------- Employees & Settings Panels ---------- */
.employees-container, .settings-container, .board-info, .board-members, .form-container {
  background: linear-gradient(180deg, #161c25, #121820);
  border: 1px solid #1f2833;
  border-radius: var(--radius);
  padding: 1.4rem;
  box-shadow: var(--shadow);
}

.employee-list { list-style: none; padding: 0; margin: 0; }
.employee-list li {
  display: flex; justify-content: space-between; align-items: center;
  padding: 0.8rem; margin-bottom: 0.6rem;
  background: #11161f; border: 1px solid #1b2430; border-radius: var(--radius-sm);
}

/* Member rows */
.member-row { display: flex; align-items: center; gap: 0.8rem; padding: 0.75rem 0; border-bottom: 1px solid #1a2230; }
.member-row strong { flex: 1; color: var(--text); }
.member-row span { flex: 1; color: var(--text-dim); }
.member-row .badge { margin-left: auto; }

/* ---------- Chat ---------- */
.chat-page { display: flex; flex-direction: column; height: 100vh; }
.chat-wrapper { display: flex; flex-direction: column; }
.chat-box {
  flex: 1; overflow-y: auto;
  padding: 1rem;
  background: linear-gradient(180deg, #0f141b, #0b0f15);
  border-top: 1px solid #17202b; border-bottom: 1px solid #17202b;
}
.message { margin-bottom: 0.6rem; color: var(--text); }
.timestamp { color: var(--text-dim); font-size: 0.8em; margin-left: 0.5rem; }
.mention { color: var(--accent); font-weight: 700; background: rgba(34,211,238,0.12); padding: 2px 6px; border-radius: 6px; }

/* ---------- Animations & State Helpers ---------- */
@keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
@keyframes pop { 0% { transform: scale(0.98); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }

.column, .card { transition: transform var(--trans-med), opacity var(--trans-med), border-color var(--trans-fast), background var(--trans-fast); }
.column.fade-in, .card.fade-in { opacity: 0; transform: translateY(14px); }
.column.fade-in.active, .card.fade-in.active { opacity: 1; transform: translateY(0); }

.card.animating-out { opacity: 0; transform: scale(0.96); }
.card.animating-in { opacity: 0; transform: translateY(-12px); }
.card.animating-in.active { opacity: 1; transform: translateY(0); }

/* ---------- Responsive ---------- */
@media (max-width: 768px) {
  .sidebar { position: sticky; width: 100%; height: auto; border-right: 0; border-bottom: 1px solid #1f2630; }
  .dashboard, .board, .settings-page, .employees-view, .form-view, .chat-wrapper { margin-left: 0; padding: 1rem; }
  .columns { flex-direction: column; }
  .sidebar-button { width: 100%; }
}
